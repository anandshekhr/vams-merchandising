{% extends 'user/base.html' %}
{% load static %}
<link rel="stylesheet" href="{% static 'style.css' %}">
{% block profile %}

<div class="row col-lg-8 pb-5 pt-4 ps-4">
<div class="card border-0">
    <ul class="notification-box">
        {% for noti in notifications %}
        <li>
            <a href="#" class="d-flex align-items-center p-3 rounded-3 bg-lightblue theme-black-bg">
                <img src="https://via.placeholder.com/50x50.jpg" alt="user" class="w-45 me-3 rounded-circle">
                <i class="feather-heart text-white bg-red-gradiant me-2 font-xssss notification-react"></i>
                <h6 class="font-xssss text-grey-900 white-text text-grey-900 mb-0 mt-0 fw-500 lh-20"><strong>{{noti.notification}}</strong> <strong>{{noti.message}}</strong>
                <span class="d-block text-grey-500 font-xssss fw-500 mb-0 mt-0 0l-auto">{{noti.timestamp}}</span>
                </h6>
                <i class="ti-more-alt text-grey-500 font-xs ms-auto"></i>
            </a>
        </li>

        {% endfor %}
    </ul>
</div>
<div class="container mt-5">
    <div>
        <h2>Refund Status</h2>
        {% comment %} <div class="custom-progress custom-progress--medium">
            <ol class="custom-progress-list" id="custom-progress-list">
                <li class="custom-progress-step completed" data-step="1">
                    <span class="custom-item-heading">Return request submitted</span>
                </li>
                <li class="custom-progress-step padding_left active" data-step="2">
                    <span class="custom-item-heading">Item Received</span>
                </li>
                <li class="custom-progress-step padding_left" data-step="3">
                    <span class="custom-item-heading">Refund Sent</span>
                </li>
            </ol>
        </div> {% endcomment %}
        <div class="row">
            <div class="col-md-6">
                <h2>Return Product</h2>
                <form id="returnForm">
                    <div class="mb-3">
                        <label for="orderNumber" class="form-label">Order Number</label>
                        <input type="text" class="form-control" id="orderNumber" name="orderNumber" required>
                    </div>
                    <div class="mb-3" style="display: flex;flex-direction: column;">
                        <label for="returnReason" class="form-label">Reason for Return</label>
                        <select class="selectpicker" data-live-search="true" id="returnReason" name="returnReason" required>
                            <option value="">Select a reason...</option>
                            <option value="defective">Defective product</option>
                            <option value="wrongItem">Received wrong item</option>
                            <option value="wrongItemSize">Wrong Size item</option>
                            <option value="notSatisfied">Not satisfied with the product</option>
                        </select>
                    </div>
                    <div>
                        <h2>Bank Details for Refund</h2>
                        <div class="mb-3">
                            <label for="accountHolder" class="form-label">Account Holder Name</label>
                            <input type="text" class="form-control" id="accountHolder" name="accountHolder" required>
                        </div>
                        <div class="mb-3">
                            <label for="accountNumber" class="form-label">Account Number</label>
                            <input type="text" class="form-control" id="accountNumber" name="accountNumber" required>
                            <div class="invalid-feedback">Account number is required.</div>
                        </div>
                        <div class="mb-3">
                            <label for="confirmAccountNumber" class="form-label">Confirm Account Number</label>
                            <input type="text" class="form-control" id="confirmAccountNumber" name="confirmAccountNumber" required>
                            <div class="invalid-feedback">Please confirm the account number.</div>
                        </div>
                        <div class="mb-3">
                            <label for="ifscNumber" class="form-label">IFSC Code</label>
                            <input type="text" class="form-control" id="ifscNumber" name="ifscNumber" required>
                        </div>
                    </div>
                    <button style="color: white; font-size: 20px; font-weight: 400; " type="submit" class="btn btn-primary">Submit Return</button>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- Inside your <style> tag -->
    <style>
        .nice-select {
            font-size: 16px;
            color: #171717;
            display: flex;
            justify-content: flex-start;
            border: 1px solid;
            margin-bottom: 20px;
            padding-left: 14px;
        }
    </style>

    <script>
        $(document).ready(function() {
            $('#returnForm').submit(function(event) {
                event.preventDefault(); // Prevent form from submitting

              
                var accountNumber = $('#accountNumber').val();
                var confirmAccountNumber = $('#confirmAccountNumber').val();
                if (accountNumber !== confirmAccountNumber) {
                    alert("Account numbers do not match.");
                    return;
                }

                // Update progress bar for the "Item Received" step
                $('.custom-progress-step[data-step="2"]').removeClass('active').addClass('completed');
                $('.custom-progress-step[data-step="3"]').addClass('active');
                alert('Form submitted successfully!');
            });
        });
    </script>
    
{% endblock profile %}